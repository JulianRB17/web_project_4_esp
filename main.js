!function(){"use strict";var e={};function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.p="";var n=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameValue=t,this._linkValue=n,this._toggleLikeBtn(),this._eraseCard()}var n,o;return n=e,(o=[{key:"_toggleLikeBtn",value:function(){document.querySelector(".cards").addEventListener("click",(function(e){e.target.classList.contains("cards__like-btn")&&e.target.classList.toggle("cards__like-btn_active")}))}},{key:"_eraseCard",value:function(){document.querySelector(".cards").addEventListener("click",(function(e){return e.target.classList.contains("cards__trash-btn")&&e.target.closest(".cards__card-container").remove()}))}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupWindow=t}var t,n;return t=e,(n=[{key:"_openPopup",value:function(){this._popupWindow.classList.add("popup_opened"),this._handleEscClose()}},{key:"_closePopup",value:function(){this._popupWindow.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(){var e=this;document.addEventListener("keydown",(function t(n){"Escape"===n.key&&(e._popupWindow.classList.remove("popup_opened"),document.removeEventListener("keydown",t))}))}},{key:"_setEventListeners",value:function(){var e=this;this._popupWindow.querySelector(".popup__close-btn").addEventListener("click",(function(){e._closePopup()})),this._popupWindow.querySelector(".popup__overlay").addEventListener("click",(function(){e._closePopup()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=s(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},l.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var _=document.querySelector("#popup-pic"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(s,e);var t,n,o,r,i=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(r){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function s(){var e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l((e=a(t=i.call(this,_)),f(s.prototype)),"_setEventListeners",e).call(e),t._handleCardClick(),t}return t=s,(n=[{key:"_handleCardClick",value:function(){var e=this;document.querySelector(".cards").addEventListener("click",(function(t){var n=t.target.closest(".cards__img");n&&(l(f(s.prototype),"_openPopup",e).call(e),_.querySelector(".popup__pic").src=n.src,_.querySelector(".popup__pic").alt=n.alt,_.querySelector(".popup__pic-name").textContent=n.alt)}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r);function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupWindow=n,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._formElement=this._popupWindow.querySelector(this._formSelector),this._inputList=Array.from(this._popupWindow.querySelectorAll(this._inputSelector)),this._buttonElement=this._popupWindow.querySelector(this._submitButtonSelector),this._enableValidation()}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._popupWindow.querySelector("#".concat(e.id,"-error"));this._popupWindow.querySelector("#".concat(e.id,"-underline")).classList.add("popup__input-underline_error"),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._popupWindow.querySelector("#".concat(e.id,"-error"));this._popupWindow.querySelector("#".concat(e.id,"-underline")).classList.remove("popup__input-underline_error"),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_toggleSaveButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","")):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled",""))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleSaveButtonState()}))}))}},{key:"_enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleSaveButtonState()}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(t){var n=t.userName,o=t.userJob;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=n,this._userJob=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName,job:this._userJob}}},{key:"setUserInfo",value:function(){var e=document.querySelector("#popup__input_name"),t=document.querySelector("#popup__input_about-me");e.value=this._userName,t.value=this._userJob}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=function(e){return new b(e)};function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var P=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=o,this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),S=function(e){return new P({items:e,renderer:function(e){var t=e.nameValue,n=e.linkValue,o=document.querySelector("#cards__template").content.cloneNode(!0);o.querySelector(".cards__name").textContent=t,o.querySelector(".cards__img").alt=t,o.querySelector(".cards__img").src=n,this.addItem(o)}},document.querySelector(".cards"))};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=O(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},E.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function q(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(o);if(r){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function u(e){var t,n,o,r,p,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),n=I(t=i.call(this,e)),o="_userInfo",r=m({userName:"Jacques Cousteau",userJob:"Explorador"}),o in n?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,t._setEventListeners(),t._formValidator=(p={formSelector:".popup__input-container",inputSelector:".popup__input",submitButtonSelector:".popup__save-btn",inactiveButtonClass:"popup__save-btn_inactive",errorClass:"popup__input-error_active"},c=t._popupWindow,new h(p,c)),t._popupProfile=document.querySelector("#edit-profile"),t._popupNewPlace=document.querySelector("#new-place"),t._popupProfilePic=document.querySelector("#profile-pic"),t}return t=u,(n=[{key:"openPopup",value:function(){E(L(u.prototype),"_openPopup",this).call(this),this._formValidator.resetValidation(),this._userInfo.setUserInfo()}},{key:"_getInputValues",value:function(){this._popupWindow===this._popupProfile&&(this._popupInputName=document.querySelector("#popup__input_name").value,this._popupInputAboutMe=document.querySelector("#popup__input_about-me").value,this._userInfo=m({userName:this._popupInputName,userJob:this._popupInputAboutMe})),this._popupWindow===this._popupNewPlace&&(this._popupInputNewPlacePic=document.querySelector("#popup__input_new-place-pic").value,this._popupInputnewPlaceTitle=document.querySelector("#popup__input_new-place-title").value),this._popupWindow===this._popupProfilePic&&(this._popupInputProfilePic=document.querySelector("#popup__input_profile-pic").value,this._popupInputProfilePicDescription=document.querySelector("#popup__input_profile-pic-description").value)}},{key:"_setEventListeners",value:function(){var e=this;this._popupWindow.addEventListener("submit",(function(t){if(e._getInputValues(),e._closePopup(),e._popupWindow===e._popupNewPlace&&(e._card=S([{nameValue:e._popupInputnewPlaceTitle,linkValue:e._popupInputNewPlacePic}]),e._card.renderItems()),e._popupWindow===e._popupProfile){var n=document.querySelector(".profile__name"),o=document.querySelector(".profile__about-me");n.textContent=e._userInfo._userName,o.textContent=e._userInfo._userJob}if(e._popupWindow===e._popupProfilePic){var r=document.querySelector(".profile__pic");r.style.backgroundImage="url(".concat(e._popupInputProfilePic,")"),r.setAttribute("alt","".concat(e._popupInputProfilePicDescription))}})),E(L(u.prototype),"_setEventListeners",this).call(this)}},{key:"_closePopup",value:function(){E(L(u.prototype),"_closePopup",this).call(this),this._popupWindow!==this._popupProfile&&this._popupWindow.querySelectorAll(".popup__input").forEach((function(e){e.value=""}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r),V=e.p+"560d356e2224818a4682.jpg",W=e.p+"55b79049228f5f47b6b7.jpg",B=e.p+"fe51e02a2908813aa65a.jpg",R=e.p+"43ea50960bb83bae1317.jpg",N=e.p+"34b5c623e7ca50455493.jpg",T=e.p+"c9f3af946eedeab2c5a8.jpg",x=e.p+"50fce9df697a07971411.svg";document.querySelector(".header__logo").src=x;var A=[{nameValue:"Cenotes",linkValue:V},{nameValue:"Ushuaia",linkValue:W},{nameValue:"IguazÃº",linkValue:B},{nameValue:"Uyuni",linkValue:R},{nameValue:"Bacalar",linkValue:N},{nameValue:"Las Coloradas",linkValue:T}],J=(new d,new C(document.querySelector("#new-place"))),D=new C(document.querySelector("#profile-pic")),U=new C(document.querySelector("#edit-profile"));new n,document.querySelector(".profile__edit-btn").addEventListener("click",(function(){U.openPopup()})),document.querySelector(".profile__add-btn").addEventListener("click",(function(){J.openPopup()})),document.querySelector(".profile__pic").addEventListener("click",(function(){D.openPopup()})),S(A).renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBQ1osR0FDUkEsRUFBYTJCLE1BQVEsRUFDdEIsR0FDSixNLG9FQXpHSCxHQUFvQy9ELEcsdU9DV3BDVixTQUFTQyxjQUFjLGlCQUFpQnNCLElBQU0wRixFQUU5QyxJQUFNQyxFQUFlLENBQ25CLENBQ0V6SCxVQUFXLFVBQ1hDLFVBQVd5SCxHQUdiLENBQ0UxSCxVQUFXLFVBQ1hDLFVBQVcwSCxHQUdiLENBQ0UzSCxVQUFXLFNBQ1hDLFVBQVcySCxHQUdiLENBQ0U1SCxVQUFXLFFBQ1hDLFVBQVc0SCxHQUdiLENBQ0U3SCxVQUFXLFVBQ1hDLFVBQVc2SCxHQUdiLENBQ0U5SCxVQUFXLGdCQUNYQyxVQUFXOEgsSUFNVEMsR0FEYyxJQUFJckcsRUFDRixJQUFJdUUsRUFBZTNGLFNBQVNDLGNBQWMsZ0JBQzFEeUgsRUFBa0IsSUFBSS9CLEVBQzFCM0YsU0FBU0MsY0FBYyxpQkFFbkIwSCxFQUFlLElBQUloQyxFQUN2QjNGLFNBQVNDLGNBQWMsa0JBRUwsSUFBSVQsRUFHeEJRLFNBQVNDLGNBQWMsc0JBQXNCQyxpQkFBaUIsU0FBUyxXQUNyRXlILEVBQWFDLFdBQ2QsSUFDRDVILFNBQVNDLGNBQWMscUJBQXFCQyxpQkFBaUIsU0FBUyxXQUNwRXVILEVBQWNHLFdBQ2YsSUFDRDVILFNBQVNDLGNBQWMsaUJBQWlCQyxpQkFBaUIsU0FBUyxXQUNoRXdILEVBQWdCRSxXQUNqQixJQUdZdkMsRUFBUzZCLEdBQ2pCUCxhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3Avd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3Avd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zY3JpcHRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NjcmlwdHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9wYWdlL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lVmFsdWUsIGxpbmtWYWx1ZSkge1xyXG4gICAgdGhpcy5fbmFtZVZhbHVlID0gbmFtZVZhbHVlO1xyXG4gICAgdGhpcy5fbGlua1ZhbHVlID0gbGlua1ZhbHVlO1xyXG4gICAgdGhpcy5fdG9nZ2xlTGlrZUJ0bigpO1xyXG4gICAgdGhpcy5fZXJhc2VDYXJkKCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlTGlrZUJ0bigpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRzX19saWtlLWJ0blwiKSAmJlxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkc19fbGlrZS1idG5fYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZXJhc2VDYXJkKCkge1xyXG4gICAgZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAgIChlKSA9PlxyXG4gICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZHNfX3RyYXNoLWJ0blwiKSAmJlxyXG4gICAgICAgICAgZS50YXJnZXQuY2xvc2VzdChcIi5jYXJkc19fY2FyZC1jb250YWluZXJcIikucmVtb3ZlKClcclxuICAgICAgKTtcclxuICB9XHJcbn1cclxuIiwiLy8gQ2xhc2UgcGFkcmUgZGUgbGFzIHZlbnRhbmFzIHBvcHVwZXNcclxuZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFdpbmRvdykge1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3cgPSBwb3B1cFdpbmRvdztcclxuICB9XHJcblxyXG4gIC8vQWJyaXIgdmVudGFuYSBwb3B1cCB5IGFncmVnYXIgZXZlbnRMaXN0ZW5lciBwYXJhIGNlcnJhciBjb24gZXNjYXBlLlxyXG4gIF9vcGVuUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFdpbmRvdy5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoKTtcclxuICB9XHJcblxyXG4gIC8vQ2VycmFyIHZlbnRhbmFzIHBvcHVwZXNcclxuICBfY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoKSB7XHJcbiAgICBjb25zdCBlc2NhcGVDbG9zZVBvcHVwID0gKGUpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVDbG9zZVBvcHVwKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUNsb3NlUG9wdXApO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3dcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ0blwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3dcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX292ZXJsYXlcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGhpcy5fY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuY29uc3QgcG9wdXBQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLXBpY1wiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKHBvcHVwUGljKTtcclxuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgfVxyXG5cclxuICAvLyBBZ3JlZ2EgZWwgZXZlbnRMaXN0ZW5lciBwYXJhIGFicmlyIGxhIHBvcHVwIGRlIGltYWdlblxyXG4gIF9oYW5kbGVDYXJkQ2xpY2soKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBjb25zdCBpbWcgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmNhcmRzX19pbWdcIik7XHJcbiAgICAgIGlmICghaW1nKSByZXR1cm47XHJcbiAgICAgIHN1cGVyLl9vcGVuUG9wdXAoKTtcclxuICAgICAgcG9wdXBQaWMucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGljXCIpLnNyYyA9IGltZy5zcmM7XHJcbiAgICAgIHBvcHVwUGljLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BpY1wiKS5hbHQgPSBpbWcuYWx0O1xyXG4gICAgICBwb3B1cFBpYy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waWMtbmFtZVwiKS50ZXh0Q29udGVudCA9IGltZy5hbHQ7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnT2JqLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3cgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZ09iai5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnT2JqLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZ09iai5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWdPYmouaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWdPYmouZXJyb3JDbGFzcztcclxuXHJcbiAgICAvLyBTZWxlY3RvcmVzIGRlIGZvcm0gZWxlbWVudCwgbGlzdGEgZGUgaW5wdXRzIHkgYm90w7NuIGRlIHN1Ym1pdC5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3JtU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfVxyXG5cclxuICAvL01vc3RyYXIgbWVuc2FqZSBkZSBlcnJvclxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX3BvcHVwV2luZG93LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LXVuZGVybGluZWApXHJcbiAgICAgIC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2lucHV0LXVuZGVybGluZV9lcnJvclwiKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy9PY3VsdGFyIG1lbnNhamUgZGUgZXJyb3JcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICB0aGlzLl9wb3B1cFdpbmRvd1xyXG4gICAgICAucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS11bmRlcmxpbmVgKVxyXG4gICAgICAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pbnB1dC11bmRlcmxpbmVfZXJyb3JcIik7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmFyIHNpIHVuIGVsZW1lbnRvIGlucHV0IGRlbCBmb3JtIG5vIGVzIHbDoWxpZG9cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vVmVyaWZpY2FyIHZhbGlkZXogZGUgZGF0b3MgZW4gaW5wdXQgcGFyYSBtb3N0cmFyIGVycm9yXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9Nb2RpZmljYXIgYm90w7NuIGRlcGVuZGllbmRvIGRlIHZhbGlkZXogZGUgZm9ybVxyXG4gIF90b2dnbGVTYXZlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9TZWxlY2Npb25hciBmb3JtIHkgbGxhbWFyIGEgbGEgbW9kaWZpY2FjacOzbiBkZWwgYm90w7NuLCBhZ3JlZ2EgdW4gZXZlbnQgbGlzdGVuZXIgYSBjYWRhIGFjY2nDs24gZGUgXCJpbnB1dFwiIHkgYSBwYXJ0aXIgZGUgbGEgdmFsaWRleiBsbGFtYSBhIG1vZGlmaWNhciBlbCBib3TDs24uXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVTYXZlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vRGV0b25hIGxhIHZhbGlkYWNpw7NuIGVuIGNhZGEgZm9ybVxyXG4gIF9lbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy9SZXN0YWJsZWNlIGxhIHZhbGlkYWNpw7NuIGRlIGZvcm11bGFyaW9zXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTYXZlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBuZXdGb3JtVmFsaWRhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ09iaiwgZm9ybUVsZW1lbnQpIHtcclxuICByZXR1cm4gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnT2JqLCBmb3JtRWxlbWVudCk7XHJcbn07XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VySm9iIH0pIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl91c2VySm9iID0gdXNlckpvYjtcclxuICB9XHJcbiAgLy8gQWxtYWNlbmEgbG9zIGRhdG9zIGRlIGxhIHBvcHVwIGRlIGVkaWNpw7NuIGRlIHBlcmZpbFxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHsgbmFtZTogdGhpcy5fdXNlck5hbWUsIGpvYjogdGhpcy5fdXNlckpvYiB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQ29sb2NhIGxvcyBkYXRvcyBkZSBlZGljacOzbiBkZSBwZXJmaWwgZW4gbGEgcG9wdXAgcmVzcGVjdGl2YSBjdWFuZG8gc2UgYWJyZVxyXG4gIHNldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgaW5wdXRQcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBfX2lucHV0X25hbWVcIik7XHJcbiAgICBjb25zdCBpbnB1dFByb2ZpbGVBYm91dE1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjcG9wdXBfX2lucHV0X2Fib3V0LW1lXCJcclxuICAgICk7XHJcbiAgICBpbnB1dFByb2ZpbGVOYW1lLnZhbHVlID0gdGhpcy5fdXNlck5hbWU7XHJcbiAgICBpbnB1dFByb2ZpbGVBYm91dE1lLnZhbHVlID0gdGhpcy5fdXNlckpvYjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBuZXdVc2VySW5mbyA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgcmV0dXJuIG5ldyBVc2VySW5mbyhkYXRhKTtcclxufTtcclxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgfVxyXG5cclxuICAvLyByZW5kZXJpemEgZWxlbWVudG9zIGRlIHVuIGFycmF5XHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICAvLyBBZ3JlZ2EgZWxlbWVudG8gYWwgRE9NXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWFjacOzbiBkZSBudWV2YXMgdGFyamV0YXNcclxuZXhwb3J0IGNvbnN0IG5ld0NhcmRzID0gZnVuY3Rpb24gKGRhdGFBcnJheSkge1xyXG4gIHJldHVybiBuZXcgU2VjdGlvbihcclxuICAgIHtcclxuICAgICAgaXRlbXM6IGRhdGFBcnJheSxcclxuICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcyk7XHJcbiAgICAgICAgY29uc3QgeyBuYW1lVmFsdWUsIGxpbmtWYWx1ZSB9ID0gZGF0YTtcclxuICAgICAgICBjb25zdCBuZXdDYXJkID0gZG9jdW1lbnRcclxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzX190ZW1wbGF0ZVwiKVxyXG4gICAgICAgICAgLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbmFtZVwiKS50ZXh0Q29udGVudCA9IG5hbWVWYWx1ZTtcclxuICAgICAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2ltZ1wiKS5hbHQgPSBuYW1lVmFsdWU7XHJcbiAgICAgICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pbWdcIikuc3JjID0gbGlua1ZhbHVlO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbShuZXdDYXJkKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpXHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5pbXBvcnQgeyBuZXdGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBuZXdVc2VySW5mbyB9IGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IG5ld0NhcmRzIH0gZnJvbSBcIi4vU2VjdGlvbi5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm1zIGV4dGVuZHMgUG9wdXAge1xyXG4gIF91c2VySW5mbyA9IG5ld1VzZXJJbmZvKHtcclxuICAgIHVzZXJOYW1lOiBcIkphY3F1ZXMgQ291c3RlYXVcIixcclxuICAgIHVzZXJKb2I6IFwiRXhwbG9yYWRvclwiLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3B1cFdpbmRvdykge1xyXG4gICAgc3VwZXIocG9wdXBXaW5kb3cpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1WYWxpZGF0b3IgPSBuZXdGb3JtVmFsaWRhdG9yKFxyXG4gICAgICB7XHJcbiAgICAgICAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXQtY29udGFpbmVyXCIsXHJcbiAgICAgICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlLWJ0blwiLFxyXG4gICAgICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3NhdmUtYnRuX2luYWN0aXZlXCIsXHJcbiAgICAgICAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRoaXMuX3BvcHVwV2luZG93XHJcbiAgICApO1xyXG4gICAgdGhpcy5fcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGVcIik7XHJcbiAgICB0aGlzLl9wb3B1cE5ld1BsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcGxhY2VcIik7XHJcbiAgICB0aGlzLl9wb3B1cFByb2ZpbGVQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtcGljXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWJyZSB2ZW50YW5hIHBvcHVwXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgc3VwZXIuX29wZW5Qb3B1cCgpO1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgIHRoaXMuX3VzZXJJbmZvLnNldFVzZXJJbmZvKCk7XHJcbiAgfVxyXG5cclxuICAvLyBUb21hIGxvcyBkYXRvcyBkZSBpbnB1dCBkZSBsYXMgdmVudGFuYXMgcG9wdXBzIHkgbG9zIGFsbWFjZW5hXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgaWYgKHRoaXMuX3BvcHVwV2luZG93ID09PSB0aGlzLl9wb3B1cFByb2ZpbGUpIHtcclxuICAgICAgdGhpcy5fcG9wdXBJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX19pbnB1dF9uYW1lXCIpLnZhbHVlO1xyXG4gICAgICB0aGlzLl9wb3B1cElucHV0QWJvdXRNZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIjcG9wdXBfX2lucHV0X2Fib3V0LW1lXCJcclxuICAgICAgKS52YWx1ZTtcclxuICAgICAgdGhpcy5fdXNlckluZm8gPSBuZXdVc2VySW5mbyh7XHJcbiAgICAgICAgdXNlck5hbWU6IHRoaXMuX3BvcHVwSW5wdXROYW1lLFxyXG4gICAgICAgIHVzZXJKb2I6IHRoaXMuX3BvcHVwSW5wdXRBYm91dE1lLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLl9wb3B1cFdpbmRvdyA9PT0gdGhpcy5fcG9wdXBOZXdQbGFjZSkge1xyXG4gICAgICB0aGlzLl9wb3B1cElucHV0TmV3UGxhY2VQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiI3BvcHVwX19pbnB1dF9uZXctcGxhY2UtcGljXCJcclxuICAgICAgKS52YWx1ZTtcclxuICAgICAgdGhpcy5fcG9wdXBJbnB1dG5ld1BsYWNlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiI3BvcHVwX19pbnB1dF9uZXctcGxhY2UtdGl0bGVcIlxyXG4gICAgICApLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX3BvcHVwV2luZG93ID09PSB0aGlzLl9wb3B1cFByb2ZpbGVQaWMpIHtcclxuICAgICAgdGhpcy5fcG9wdXBJbnB1dFByb2ZpbGVQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiI3BvcHVwX19pbnB1dF9wcm9maWxlLXBpY1wiXHJcbiAgICAgICkudmFsdWU7XHJcbiAgICAgIHRoaXMuX3BvcHVwSW5wdXRQcm9maWxlUGljRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiI3BvcHVwX19pbnB1dF9wcm9maWxlLXBpYy1kZXNjcmlwdGlvblwiXHJcbiAgICAgICkudmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBZ3JlZ2EgbG9zIGV2ZW50TGlzdGVuZXJzIGRlIHN1Ym1pdCBkZSBsYSB2ZW50YW5hIHBvcHVwXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9jbG9zZVBvcHVwKCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwTmV3UGxhY2UpIHtcclxuICAgICAgICB0aGlzLl9jYXJkID0gbmV3Q2FyZHMoW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lVmFsdWU6IHRoaXMuX3BvcHVwSW5wdXRuZXdQbGFjZVRpdGxlLFxyXG4gICAgICAgICAgICBsaW5rVmFsdWU6IHRoaXMuX3BvcHVwSW5wdXROZXdQbGFjZVBpYyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgdGhpcy5fY2FyZC5yZW5kZXJJdGVtcygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwUHJvZmlsZSkge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVBYm91dE1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dC1tZVwiKTtcclxuICAgICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLl91c2VyTmFtZTtcclxuICAgICAgICBwcm9maWxlQWJvdXRNZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLl91c2VySm9iO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwUHJvZmlsZVBpYykge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY1wiKTtcclxuICAgICAgICBwcm9maWxlUGljLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLl9wb3B1cElucHV0UHJvZmlsZVBpY30pYDtcclxuICAgICAgICBwcm9maWxlUGljLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwiYWx0XCIsXHJcbiAgICAgICAgICBgJHt0aGlzLl9wb3B1cElucHV0UHJvZmlsZVBpY0Rlc2NyaXB0aW9ufWBcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2llcnJhIHZlbnRhbmEgcG9wdXBcclxuICBfY2xvc2VQb3B1cCgpIHtcclxuICAgIHN1cGVyLl9jbG9zZVBvcHVwKCk7XHJcbiAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwUHJvZmlsZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3dcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXHJcbiAgICAgIC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9zY3JpcHRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtcyB9IGZyb20gXCIuLi9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IHsgbmV3Q2FyZHMgfSBmcm9tIFwiLi4vc2NyaXB0cy9TZWN0aW9uLmpzXCI7XHJcblxyXG5pbXBvcnQgXCIuLi92ZW5kb3Ivbm9ybWFsaXplLmNzc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IGltZzEgZnJvbSBcIi4uL2ltYWdlcy9jYXJkc18xLmpwZ1wiO1xyXG5pbXBvcnQgaW1nMiBmcm9tIFwiLi4vaW1hZ2VzL2NhcmRzXzIuanBnXCI7XHJcbmltcG9ydCBpbWczIGZyb20gXCIuLi9pbWFnZXMvY2FyZHNfMy5qcGdcIjtcclxuaW1wb3J0IGltZzQgZnJvbSBcIi4uL2ltYWdlcy9jYXJkc180LmpwZ1wiO1xyXG5pbXBvcnQgaW1nNSBmcm9tIFwiLi4vaW1hZ2VzL2NhcmRzXzUuanBnXCI7XHJcbmltcG9ydCBpbWc2IGZyb20gXCIuLi9pbWFnZXMvY2FyZHNfNi5qcGdcIjtcclxuaW1wb3J0IGxvZ29JbWcgZnJvbSBcIi4uL2ltYWdlcy9sb2dvLnN2Z1wiO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2xvZ29cIikuc3JjID0gbG9nb0ltZztcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lVmFsdWU6IFwiQ2Vub3Rlc1wiLFxyXG4gICAgbGlua1ZhbHVlOiBpbWcxLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWVWYWx1ZTogXCJVc2h1YWlhXCIsXHJcbiAgICBsaW5rVmFsdWU6IGltZzIsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZVZhbHVlOiBcIklndWF6w7pcIixcclxuICAgIGxpbmtWYWx1ZTogaW1nMyxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lVmFsdWU6IFwiVXl1bmlcIixcclxuICAgIGxpbmtWYWx1ZTogaW1nNCxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lVmFsdWU6IFwiQmFjYWxhclwiLFxyXG4gICAgbGlua1ZhbHVlOiBpbWc1LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWVWYWx1ZTogXCJMYXMgQ29sb3JhZGFzXCIsXHJcbiAgICBsaW5rVmFsdWU6IGltZzYsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvcyBkZSBjYWRhIGNsYXNlXHJcbmNvbnN0IHBvcHVwSW1hZ2VzID0gbmV3IFBvcHVwV2l0aEltYWdlKCk7XHJcbmNvbnN0IHBvcHVwTmV3UGxhY2UgPSBuZXcgUG9wdXBXaXRoRm9ybXMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcGxhY2VcIikpO1xyXG5jb25zdCBwb3B1cFByb2ZpbGVQaWMgPSBuZXcgUG9wdXBXaXRoRm9ybXMoXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXBpY1wiKVxyXG4pO1xyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybXMoXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGVcIilcclxuKTtcclxuY29uc3QgY2FyZEhhbmRsZXIgPSBuZXcgQ2FyZCgpO1xyXG5cclxuLy8gQWdyZWdhciBldmVudExpc3RlbmVycyBhIGxvcyBib3RvbmVzIHF1ZSBhYnJlbiBjYWRhIHZlbnRhbmEgcG9wdXBcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuUG9wdXAoKTtcclxufSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwTmV3UGxhY2Uub3BlblBvcHVwKCk7XHJcbn0pO1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwUHJvZmlsZVBpYy5vcGVuUG9wdXAoKTtcclxufSk7XHJcblxyXG4vL0luaWNpbyBjb24gNiB0YXJqZXRhc1xyXG5jb25zdCBjYXJkID0gbmV3Q2FyZHMoaW5pdGlhbENhcmRzKTtcclxuY2FyZC5yZW5kZXJJdGVtcygpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiLCJDYXJkIiwibmFtZVZhbHVlIiwibGlua1ZhbHVlIiwidGhpcyIsIl9uYW1lVmFsdWUiLCJfbGlua1ZhbHVlIiwiX3RvZ2dsZUxpa2VCdG4iLCJfZXJhc2VDYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRvZ2dsZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJQb3B1cCIsInBvcHVwV2luZG93IiwiX3BvcHVwV2luZG93IiwiYWRkIiwiX2hhbmRsZUVzY0Nsb3NlIiwiZXNjYXBlQ2xvc2VQb3B1cCIsImtleSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfY2xvc2VQb3B1cCIsInBvcHVwUGljIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwiaW1nIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnT2JqIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwiX2VuYWJsZVZhbGlkYXRpb24iLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlU2F2ZUJ1dHRvblN0YXRlIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckpvYiIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwibmFtZSIsImpvYiIsImlucHV0UHJvZmlsZU5hbWUiLCJpbnB1dFByb2ZpbGVBYm91dE1lIiwidmFsdWUiLCJuZXdVc2VySW5mbyIsImRhdGEiLCJTZWN0aW9uIiwiY29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwicHJlcGVuZCIsIm5ld0NhcmRzIiwiZGF0YUFycmF5IiwibmV3Q2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJhZGRJdGVtIiwiUG9wdXBXaXRoRm9ybXMiLCJfZm9ybVZhbGlkYXRvciIsIl9wb3B1cFByb2ZpbGUiLCJfcG9wdXBOZXdQbGFjZSIsIl9wb3B1cFByb2ZpbGVQaWMiLCJyZXNldFZhbGlkYXRpb24iLCJfdXNlckluZm8iLCJzZXRVc2VySW5mbyIsIl9wb3B1cElucHV0TmFtZSIsIl9wb3B1cElucHV0QWJvdXRNZSIsIl9wb3B1cElucHV0TmV3UGxhY2VQaWMiLCJfcG9wdXBJbnB1dG5ld1BsYWNlVGl0bGUiLCJfcG9wdXBJbnB1dFByb2ZpbGVQaWMiLCJfcG9wdXBJbnB1dFByb2ZpbGVQaWNEZXNjcmlwdGlvbiIsIl9nZXRJbnB1dFZhbHVlcyIsIl9jYXJkIiwicmVuZGVySXRlbXMiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dE1lIiwicHJvZmlsZVBpYyIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwibG9nb0ltZyIsImluaXRpYWxDYXJkcyIsImltZzEiLCJpbWcyIiwiaW1nMyIsImltZzQiLCJpbWc1IiwiaW1nNiIsInBvcHVwTmV3UGxhY2UiLCJwb3B1cFByb2ZpbGVQaWMiLCJwb3B1cFByb2ZpbGUiLCJvcGVuUG9wdXAiXSwic291cmNlUm9vdCI6IiJ9