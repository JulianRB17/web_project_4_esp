!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function t(e,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleLikeBtn(),this._handleCardClick(),this._userInfo=e.getUserInfo(),this._apiHandler=n,this._popupWithConfirmation=o,this._popupWithImage=r}var n,o;return n=t,o=[{key:"_handleLikeBtn",value:function(){var e=this;document.querySelector(".cards").addEventListener("click",(function(t){t.target.classList.contains("cards__like-btn")&&(t.target.classList.toggle("cards__like-btn_active"),e._apiHandler.toggleLikeBtn(t.target).then((function(e){return t.target.closest(".cards__like-container").querySelector(".cards__like-number").textContent=e.likes.length})).catch((function(e){return console.error(e)})))}))}},{key:"_handleCardClick",value:function(){var e=this,t=document.querySelector("#popup-pic");document.querySelector(".cards").addEventListener("click",(function(n){var o=n.target.closest(".cards__img");o&&(e._popupWithImage.openPopup(),t.querySelector(".popup__pic").src=o.src,t.querySelector(".popup__pic").alt=o.alt,t.querySelector(".popup__pic-name").textContent=o.alt)}))}},{key:"getTemplate",value:function(e){var t=e.name,n=e.link,o=e._id,r=e.likes,i=document.querySelector("#cards__template").content.cloneNode(!0);return i.querySelector(".cards__name").textContent=t,i.querySelector(".cards__img").alt=t,i.querySelector(".cards__img").src=n,i.querySelector(".cards__like-number").textContent=r.length,i.querySelector(".cards__card-container").id=o,i}},{key:"_handleLikeToggle",value:function(e,t){this._userInfo.then((function(n){e.forEach((function(e){e._id===n._id&&t.classList.add("cards__like-btn_active")}))}))}},{key:"_handleTrashButton",value:function(e,t){var n=this;this._userInfo.then((function(o){o._id!==e._id&&(t.style.display="none"),t.addEventListener("click",(function(e){return n._popupWithConfirmation.openPopup(e.target)}))}))}}],o&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupWindow=t}var t,o;return t=e,(o=[{key:"openPopup",value:function(){this._popupWindow.classList.add("popup_opened"),this._handleEscClose()}},{key:"_closePopup",value:function(){this._popupWindow.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(){var e=this;document.addEventListener("keydown",(function t(n){"Escape"===n.key&&(e._closePopup(),document.removeEventListener("keydown",t))}))}},{key:"_setEventListeners",value:function(){var e=this;this._popupWindow.querySelector(".popup__close-btn").addEventListener("click",(function(){e._closePopup()})),this._popupWindow.querySelector(".popup__overlay").addEventListener("click",(function(){e._closePopup()}))}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=c(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,e);var t,n,o,r,c=(o=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(o);if(r){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function l(e,t,n,o,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(i=c.call(this,e))._setEventListeners(),i._formValidator=o({formSelector:".popup__input-container",inputSelector:".popup__input",submitButtonSelector:".popup__save-btn",inactiveButtonClass:"popup__save-btn_inactive",errorClass:"popup__input-error_active"},i._popupWindow),i._popupProfile=document.querySelector("#edit-profile"),i._popupNewPlace=document.querySelector("#new-place"),i._popupProfilePic=document.querySelector("#profile-pic"),i._userInfo=t,i._apiHandler=n,i._newCard=r,i}return t=l,(n=[{key:"openPopup",value:function(){u(s(l.prototype),"openPopup",this).call(this),this._formValidator.resetValidation(),this._userInfo.setUserInfo()}},{key:"_getInputValues",value:function(){this._popupWindow===this._popupProfile&&(this._popupInputName=document.querySelector("#popup__input_name").value,this._popupInputAboutMe=document.querySelector("#popup__input_about-me").value,this._userInfo.name=this._popupInputName,this._userInfo.about=this._popupInputAboutMe),this._popupWindow===this._popupNewPlace&&(this._popupInputNewPlacePic=document.querySelector("#popup__input_new-place-pic").value,this._popupInputnewPlaceTitle=document.querySelector("#popup__input_new-place-title").value),this._popupWindow===this._popupProfilePic&&(this._popupInputProfilePic=document.querySelector("#popup__input_profile-pic").value)}},{key:"_setEventListeners",value:function(){var e=this;this._popupWindow.addEventListener("submit",(function(t){if(t.preventDefault(),e._getInputValues(),e._popupWindow.querySelector(".popup__save-btn").textContent="Guardando...",e._popupWindow===e._popupNewPlace&&e._apiHandler.setNewPlace(e).then((function(t){var n=[t];e._newCard.addItem(n),e._newCard.renderItems()})).catch((function(e){return console.log(e)})).finally((function(t){e._closePopup(),e._popupWindow.querySelector(".popup__save-btn").textContent="Crear"})),e._popupWindow===e._popupProfile){var n=document.querySelector(".profile__name"),o=document.querySelector(".profile__about-me");n.textContent=e._userInfo.name,o.textContent=e._userInfo.about,e._apiHandler.changeUserInfo(e).catch((function(e){return console.log(e)})).finally((function(t){e._closePopup(),e._popupWindow.querySelector(".popup__save-btn").textContent="Guardar"}))}if(e._popupWindow===e._popupProfilePic){var r=document.querySelector(".profile__pic");e._apiHandler.setProfilePic(e._popupInputProfilePic).then((function(e){return r.style.backgroundImage="url(".concat(e.avatar,")")})).catch((function(e){return console.log(e)})).finally((function(t){e._closePopup(),e._popupWindow.querySelector(".popup__save-btn").textContent="Guardar"}))}})),u(s(l.prototype),"_setEventListeners",this).call(this)}},{key:"_closePopup",value:function(){u(s(l.prototype),"_closePopup",this).call(this),this._popupWindow.querySelectorAll(".popup__input").forEach((function(e){e.value=""}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(o);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{authorization:"793ccaf5-d27e-4116-b328-f4d0925cd1fb","Content-Type":"application/json"}};f(this,e),this._baseUrl="https://around.nomoreparties.co/v1/web_es_cohort_02/",this._options=t}var t,n;return t=e,(n=[{key:"_fetchData",value:function(){return fetch(this._baseUrl+this._specificUrl,this._options).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){return console.error(e)}))}},{key:"getUserInfo",value:function(){return this._specificUrl="users/me",this._options.method="GET",delete this._options.body,this._fetchData()}},{key:"toggleLikeBtn",value:function(e){var t=e.closest(".cards__card-container");return this._specificUrl="/cards/likes/".concat(t.id," "),this._options.method=e.classList.contains("cards__like-btn_active")?"PUT":"DELETE",delete this._options.body,this._fetchData()}},{key:"deleteCard",value:function(e){var t=e.closest(".cards__card-container");return this._specificUrl="/cards/".concat(t.id," "),this._options.method="DELETE",delete this._options.body,this._fetchData()}},{key:"setNewPlace",value:function(e){return this._specificUrl="/cards",this._options.method="POST",this._options.body=JSON.stringify({name:e._popupInputnewPlaceTitle,link:e._popupInputNewPlacePic}),this._fetchData()}},{key:"changeUserInfo",value:function(e){return this._specificUrl="users/me",this._options.method="PATCH",this._options.body=JSON.stringify({name:e._popupInputName,about:e._popupInputAboutMe}),this._fetchData()}},{key:"getInitialCards",value:function(){return this._specificUrl="cards",this._options.method="GET",delete this._options._body,this._fetchData()}},{key:"setInitialCards",value:function(){var e=this;this.getUserInfo().then((function(t){return e.getInitialCardsApi().then((function(e){return{cardData:e,userData:t}}))})).then((function(e){newCards(e.cardData,e.userData).renderItems()}))}},{key:"setProfilePic",value:function(e){return this._specificUrl="users/me/avatar",this._options.method="PATCH",this._options.body=JSON.stringify({avatar:e}),this._fetchData()}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),y=new d;function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=o,this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){var n=e._renderer(t);return e._container.prepend(n),n}))}},{key:"addItem",value:function(e){this._items=e}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._apiHandler=t,this.getUserInfo()}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._apiHandler.getUserInfo().then((function(e){return document.querySelector(".profile__name").textContent=e.name,document.querySelector(".profile__about-me").textContent=e.about,document.querySelector(".profile__pic").style.backgroundImage="url(".concat(e.avatar,")"),e})).catch((function(e){return console.error(e)}))}},{key:"setUserInfo",value:function(){this.getUserInfo().then((function(e){var t=document.querySelector("#popup__input_name"),n=document.querySelector("#popup__input_about-me"),o=document.querySelector("#popup__input_profile-pic");t.value=e.name,n.value=e.about,o.value=e.avatar})).catch((function(e){return console.error(e)}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function P(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=O(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},E.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=document.querySelector("#popup-erase-card"),q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(o);if(r){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,I))._popupEraseCardWindow=I,n._setEventListeners(),E((t=k(n),C(u.prototype)),"_setEventListeners",t).call(t),n._apiHandler=e,n}return t=u,(n=[{key:"openPopup",value:function(e){E(C(u.prototype),"openPopup",this).call(this),this._card=e.closest(".cards__card-container")}},{key:"_setEventListeners",value:function(){var e=this;this._popupEraseCardWindow.addEventListener("submit",(function(t){t.preventDefault(),e._popupEraseCardWindow.querySelector(".popup__save-btn").textContent="Guardando...",e._eraseCard()}))}},{key:"_eraseCard",value:function(){var e=this;this._card.remove(),this._apiHandler.deleteCard(this._card).catch((function(e){return console.log(e)})).finally((function(){e._closePopup(),e._popupEraseCardWindow.querySelector(".popup__save-btn").textContent="SÃ­"}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(o);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function W(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=B(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},R.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(n);if(o){var r=D(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return W(this,e)});function i(){var e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),R((e=T(t=r.call(this,document.querySelector("#popup-pic"))),D(i.prototype)),"_setEventListeners",e).call(e),t}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(o);function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupWindow=n,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._formElement=this._popupWindow.querySelector(this._formSelector),this._inputList=Array.from(this._popupWindow.querySelectorAll(this._inputSelector)),this._buttonElement=this._popupWindow.querySelector(this._submitButtonSelector),this.enableValidation()}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._popupWindow.querySelector("#".concat(e.id,"-error"));this._popupWindow.querySelector("#".concat(e.id,"-underline")).classList.add("popup__input-underline_error"),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._popupWindow.querySelector("#".concat(e.id,"-error"));this._popupWindow.querySelector("#".concat(e.id,"-underline")).classList.remove("popup__input-underline_error"),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_toggleSaveButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","")):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled",""))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleSaveButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleSaveButtonState()}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),H=function(e,t){return new N(e,t)},A=new m(y),V=new t(A,y,new q(y),new x),G=new v({items:[],renderer:function(e){var t=V.getTemplate(e);return V._handleTrashButton(e.owner,t.querySelector(".cards__trash-btn")),V._handleLikeToggle(e.likes,t.querySelector(".cards__like-btn")),t}},document.querySelector(".cards"));y.getInitialCards().then((function(e){G.addItem(e),G.renderItems()}));var M=new l(document.querySelector("#new-place"),A,y,H,G),J=new l(document.querySelector("#profile-pic"),A,y,H),z=new l(document.querySelector("#edit-profile"),A,y,H);document.querySelector(".profile__edit-btn").addEventListener("click",(function(){z.openPopup()})),document.querySelector(".profile__add-btn").addEventListener("click",(function(){M.openPopup()})),document.querySelector(".profile__pic").addEventListener("click",(function(){J.openPopup()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TWdCLEVBQVVzSSxFQUFZRSxZQUFZeEosR0FTeEMsT0FSQXNKLEVBQVlHLG1CQUNWekosRUFBS3dCLE1BQ0xSLEVBQVF6QixjQUFjLHNCQUV4QitKLEVBQVlJLGtCQUNWMUosRUFBS0csTUFDTGEsRUFBUXpCLGNBQWMscUJBRWpCeUIsQ0FDUixHQUlDMUIsU0FBU0MsY0FBYyxXQUd6QlosRUFBV2dMLGtCQUFrQjVKLE1BQUssU0FBQzZKLEdBQ2pDTCxFQUFReEYsUUFBUTZGLEdBQ2hCTCxFQUFRdkYsYUFDVCxJQUVELElBQU02RixFQUFnQixJQUFJeEgsRUFDeEIvQyxTQUFTQyxjQUFjLGNBQ3ZCYixFQUNBQyxFQUNBMkQsRUFDQWlILEdBRUlPLEVBQWtCLElBQUl6SCxFQUMxQi9DLFNBQVNDLGNBQWMsZ0JBQ3ZCYixFQUNBQyxFQUNBMkQsR0FFSXlILEVBQWUsSUFBSTFILEVBQ3ZCL0MsU0FBU0MsY0FBYyxpQkFDdkJiLEVBQ0FDLEVBQ0EyRCxHQUdGaEQsU0FBU0MsY0FBYyxzQkFBc0JDLGlCQUFpQixTQUFTLFdBQ3JFdUssRUFBYXJKLFdBQ2QsSUFDRHBCLFNBQVNDLGNBQWMscUJBQXFCQyxpQkFBaUIsU0FBUyxXQUNwRXFLLEVBQWNuSixXQUNmLElBQ0RwQixTQUFTQyxjQUFjLGlCQUFpQkMsaUJBQWlCLFNBQVMsV0FDaEVzSyxFQUFnQnBKLFdBQ2pCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvcGFnZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IodXNlckluZm8sIGFwaUhhbmRsZXIsIHBvcHVwV2l0aENvbmZpcm1hdGlvbiwgcG9wdXBXaXRoSW1hZ2UpIHtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdG4oKTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xyXG4gICAgdGhpcy5fdXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgdGhpcy5fYXBpSGFuZGxlciA9IGFwaUhhbmRsZXI7XHJcbiAgICB0aGlzLl9wb3B1cFdpdGhDb25maXJtYXRpb24gPSBwb3B1cFdpdGhDb25maXJtYXRpb247XHJcbiAgICB0aGlzLl9wb3B1cFdpdGhJbWFnZSA9IHBvcHVwV2l0aEltYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VCdG4oKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZHNfX2xpa2UtYnRuXCIpKSB7XHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRzX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcbiAgICAgICAgdGhpcy5fYXBpSGFuZGxlclxyXG4gICAgICAgICAgLnRvZ2dsZUxpa2VCdG4oZS50YXJnZXQpXHJcbiAgICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgKGRhdGEpID0+XHJcbiAgICAgICAgICAgICAgKGUudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAuY2xvc2VzdChcIi5jYXJkc19fbGlrZS1jb250YWluZXJcIilcclxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saWtlLW51bWJlclwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgICAgICBkYXRhLmxpa2VzLmxlbmd0aClcclxuICAgICAgICAgIClcclxuICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2FyZENsaWNrKCkge1xyXG4gICAgY29uc3QgcG9wdXBQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLXBpY1wiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGltZyA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIuY2FyZHNfX2ltZ1wiKTtcclxuICAgICAgaWYgKCFpbWcpIHJldHVybjtcclxuICAgICAgdGhpcy5fcG9wdXBXaXRoSW1hZ2Uub3BlblBvcHVwKCk7XHJcbiAgICAgIHBvcHVwUGljLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BpY1wiKS5zcmMgPSBpbWcuc3JjO1xyXG4gICAgICBwb3B1cFBpYy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waWNcIikuYWx0ID0gaW1nLmFsdDtcclxuICAgICAgcG9wdXBQaWMucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGljLW5hbWVcIikudGV4dENvbnRlbnQgPSBpbWcuYWx0O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRUZW1wbGF0ZSh7IG5hbWUsIGxpbmssIF9pZCwgbGlrZXMgfSkge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzX190ZW1wbGF0ZVwiKVxyXG4gICAgICAuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX25hbWVcIikudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pbWdcIikuYWx0ID0gbmFtZTtcclxuICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1nXCIpLnNyYyA9IGxpbms7XHJcbiAgICBuZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpa2UtbnVtYmVyXCIpLnRleHRDb250ZW50ID0gbGlrZXMubGVuZ3RoO1xyXG4gICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19jYXJkLWNvbnRhaW5lclwiKS5pZCA9IF9pZDtcclxuXHJcbiAgICByZXR1cm4gbmV3Q2FyZDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlVG9nZ2xlKGxpa2VzLCBsaWtlQnRuKSB7XHJcbiAgICB0aGlzLl91c2VySW5mby50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gICAgICBsaWtlcy5mb3JFYWNoKChsaWtlKSA9PiB7XHJcbiAgICAgICAgaWYgKGxpa2UuX2lkID09PSB1c2VySW5mby5faWQpIHtcclxuICAgICAgICAgIGxpa2VCdG4uY2xhc3NMaXN0LmFkZChcImNhcmRzX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVRyYXNoQnV0dG9uKG93bmVyLCB0cmFzaEJ0bikge1xyXG4gICAgdGhpcy5fdXNlckluZm8udGhlbigodXNlckluZm8pID0+IHtcclxuICAgICAgaWYgKHVzZXJJbmZvLl9pZCAhPT0gb3duZXIuX2lkKSB0cmFzaEJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIHRyYXNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT5cclxuICAgICAgICB0aGlzLl9wb3B1cFdpdGhDb25maXJtYXRpb24ub3BlblBvcHVwKGUudGFyZ2V0KVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBXaW5kb3cpIHtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93ID0gcG9wdXBXaW5kb3c7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFdpbmRvdy5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZVBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSgpIHtcclxuICAgIGNvbnN0IGVzY2FwZUNsb3NlUG9wdXAgPSAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXNjYXBlQ2xvc2VQb3B1cCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVDbG9zZVBvcHVwKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idG5cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3B1cCgpO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19vdmVybGF5XCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMuX2Nsb3NlUG9wdXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybXMgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBXaW5kb3csIHVzZXJJbmZvLCBhcGlIYW5kbGVyLCBuZXdGb3JtVmFsaWRhdG9yLCBuZXdDYXJkKSB7XHJcbiAgICBzdXBlcihwb3B1cFdpbmRvdyk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvciA9IG5ld0Zvcm1WYWxpZGF0b3IoXHJcbiAgICAgIHtcclxuICAgICAgICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dC1jb250YWluZXJcIixcclxuICAgICAgICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICAgICAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmUtYnRuXCIsXHJcbiAgICAgICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZS1idG5faW5hY3RpdmVcIixcclxuICAgICAgICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxuICAgICAgfSxcclxuICAgICAgdGhpcy5fcG9wdXBXaW5kb3dcclxuICAgICk7XHJcbiAgICB0aGlzLl9wb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwTmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wbGFjZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwUHJvZmlsZVBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1waWNcIik7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IHVzZXJJbmZvO1xyXG4gICAgdGhpcy5fYXBpSGFuZGxlciA9IGFwaUhhbmRsZXI7XHJcbiAgICB0aGlzLl9uZXdDYXJkID0gbmV3Q2FyZDtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCgpIHtcclxuICAgIHN1cGVyLm9wZW5Qb3B1cCgpO1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgIHRoaXMuX3VzZXJJbmZvLnNldFVzZXJJbmZvKCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwUHJvZmlsZSkge1xyXG4gICAgICB0aGlzLl9wb3B1cElucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBfX2lucHV0X25hbWVcIikudmFsdWU7XHJcbiAgICAgIHRoaXMuX3BvcHVwSW5wdXRBYm91dE1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIiNwb3B1cF9faW5wdXRfYWJvdXQtbWVcIlxyXG4gICAgICApLnZhbHVlO1xyXG4gICAgICB0aGlzLl91c2VySW5mby5uYW1lID0gdGhpcy5fcG9wdXBJbnB1dE5hbWU7XHJcbiAgICAgIHRoaXMuX3VzZXJJbmZvLmFib3V0ID0gdGhpcy5fcG9wdXBJbnB1dEFib3V0TWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX3BvcHVwV2luZG93ID09PSB0aGlzLl9wb3B1cE5ld1BsYWNlKSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwSW5wdXROZXdQbGFjZVBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIjcG9wdXBfX2lucHV0X25ldy1wbGFjZS1waWNcIlxyXG4gICAgICApLnZhbHVlO1xyXG4gICAgICB0aGlzLl9wb3B1cElucHV0bmV3UGxhY2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIjcG9wdXBfX2lucHV0X25ldy1wbGFjZS10aXRsZVwiXHJcbiAgICAgICkudmFsdWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwUHJvZmlsZVBpYykge1xyXG4gICAgICB0aGlzLl9wb3B1cElucHV0UHJvZmlsZVBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIjcG9wdXBfX2lucHV0X3Byb2ZpbGUtcGljXCJcclxuICAgICAgKS52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zYXZlLWJ0blwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgXCJHdWFyZGFuZG8uLi5cIjtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9wb3B1cFdpbmRvdyA9PT0gdGhpcy5fcG9wdXBOZXdQbGFjZSkge1xyXG4gICAgICAgIHRoaXMuX2FwaUhhbmRsZXJcclxuICAgICAgICAgIC5zZXROZXdQbGFjZSh0aGlzKVxyXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUFycmF5ID0gW2RhdGFdO1xyXG4gICAgICAgICAgICB0aGlzLl9uZXdDYXJkLmFkZEl0ZW0oZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgdGhpcy5fbmV3Q2FyZC5yZW5kZXJJdGVtcygpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAgICAgLmZpbmFsbHkoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zYXZlLWJ0blwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgICAgXCJDcmVhclwiO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9wb3B1cFdpbmRvdyA9PT0gdGhpcy5fcG9wdXBQcm9maWxlKSB7XHJcbiAgICAgICAgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbiAgICAgICAgY29uc3QgcHJvZmlsZUFib3V0TWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIpO1xyXG4gICAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8ubmFtZTtcclxuICAgICAgICBwcm9maWxlQWJvdXRNZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLmFib3V0O1xyXG4gICAgICAgIHRoaXMuX2FwaUhhbmRsZXJcclxuICAgICAgICAgIC5jaGFuZ2VVc2VySW5mbyh0aGlzKVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgICAuZmluYWxseSgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwV2luZG93LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnRuXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICAgICAgICBcIkd1YXJkYXJcIjtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fcG9wdXBXaW5kb3cgPT09IHRoaXMuX3BvcHVwUHJvZmlsZVBpYykge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY1wiKTtcclxuICAgICAgICB0aGlzLl9hcGlIYW5kbGVyXHJcbiAgICAgICAgICAuc2V0UHJvZmlsZVBpYyh0aGlzLl9wb3B1cElucHV0UHJvZmlsZVBpYylcclxuICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAoZGF0YSkgPT4gKHByb2ZpbGVQaWMuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGEuYXZhdGFyfSlgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgICAuZmluYWxseSgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwV2luZG93LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnRuXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICAgICAgICBcIkd1YXJkYXJcIjtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2Nsb3NlUG9wdXAoKSB7XHJcbiAgICBzdXBlci5fY2xvc2VQb3B1cCgpO1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3dcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXHJcbiAgICAgIC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjc5M2NjYWY1LWQyN2UtNDExNi1iMzI4LWY0ZDA5MjVjZDFmYlwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfY29ob3J0XzAyL1wiO1xyXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgfVxyXG5cclxuICBfZmV0Y2hEYXRhKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyB0aGlzLl9zcGVjaWZpY1VybCwgdGhpcy5fb3B0aW9ucylcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICB0aGlzLl9zcGVjaWZpY1VybCA9IFwidXNlcnMvbWVcIjtcclxuICAgIHRoaXMuX29wdGlvbnMubWV0aG9kID0gXCJHRVRcIjtcclxuICAgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLmJvZHk7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEYXRhKCk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlQnRuKGxpa2VCdG4pIHtcclxuICAgIGNvbnN0IGNhcmQgPSBsaWtlQnRuLmNsb3Nlc3QoXCIuY2FyZHNfX2NhcmQtY29udGFpbmVyXCIpO1xyXG4gICAgdGhpcy5fc3BlY2lmaWNVcmwgPSBgL2NhcmRzL2xpa2VzLyR7Y2FyZC5pZH0gYDtcclxuICAgIHRoaXMuX29wdGlvbnMubWV0aG9kID0gbGlrZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkc19fbGlrZS1idG5fYWN0aXZlXCIpXHJcbiAgICAgID8gXCJQVVRcIlxyXG4gICAgICA6IFwiREVMRVRFXCI7XHJcbiAgICBkZWxldGUgdGhpcy5fb3B0aW9ucy5ib2R5O1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoRGF0YSgpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZCh0cmFzaEJ0bikge1xyXG4gICAgY29uc3QgY2FyZCA9IHRyYXNoQnRuLmNsb3Nlc3QoXCIuY2FyZHNfX2NhcmQtY29udGFpbmVyXCIpO1xyXG4gICAgdGhpcy5fc3BlY2lmaWNVcmwgPSBgL2NhcmRzLyR7Y2FyZC5pZH0gYDtcclxuICAgIHRoaXMuX29wdGlvbnMubWV0aG9kID0gXCJERUxFVEVcIjtcclxuICAgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLmJvZHk7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEYXRhKCk7XHJcbiAgfVxyXG5cclxuICBzZXROZXdQbGFjZShkYXRhKSB7XHJcbiAgICB0aGlzLl9zcGVjaWZpY1VybCA9IFwiL2NhcmRzXCI7XHJcbiAgICB0aGlzLl9vcHRpb25zLm1ldGhvZCA9IFwiUE9TVFwiO1xyXG4gICAgdGhpcy5fb3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBuYW1lOiBkYXRhLl9wb3B1cElucHV0bmV3UGxhY2VUaXRsZSxcclxuICAgICAgbGluazogZGF0YS5fcG9wdXBJbnB1dE5ld1BsYWNlUGljLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEYXRhKCk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9zcGVjaWZpY1VybCA9IFwidXNlcnMvbWVcIjtcclxuICAgICh0aGlzLl9vcHRpb25zLm1ldGhvZCA9IFwiUEFUQ0hcIiksXHJcbiAgICAgICh0aGlzLl9vcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5fcG9wdXBJbnB1dE5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuX3BvcHVwSW5wdXRBYm91dE1lLFxyXG4gICAgICB9KSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEYXRhKCk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICB0aGlzLl9zcGVjaWZpY1VybCA9IFwiY2FyZHNcIjtcclxuICAgIHRoaXMuX29wdGlvbnMubWV0aG9kID0gXCJHRVRcIjtcclxuICAgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLl9ib2R5O1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoRGF0YSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgdGhpcy5nZXRVc2VySW5mbygpXHJcbiAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEluaXRpYWxDYXJkc0FwaSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGNhcmREYXRhOiBkYXRhLCB1c2VyRGF0YTogdXNlckRhdGEgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkID0gbmV3Q2FyZHMoZGF0YS5jYXJkRGF0YSwgZGF0YS51c2VyRGF0YSk7XHJcbiAgICAgICAgY2FyZC5yZW5kZXJJdGVtcygpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFByb2ZpbGVQaWMoZGF0YSkge1xyXG4gICAgdGhpcy5fc3BlY2lmaWNVcmwgPSBcInVzZXJzL21lL2F2YXRhclwiO1xyXG4gICAgdGhpcy5fb3B0aW9ucy5tZXRob2QgPSBcIlBBVENIXCI7XHJcbiAgICB0aGlzLl9vcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogZGF0YSB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mZXRjaERhdGEoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGlIYW5kbGVyID0gbmV3IEFwaSgpO1xyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdJdGVtID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKG5ld0l0ZW0pO1xyXG4gICAgICByZXR1cm4gbmV3SXRlbTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoYXBpSGFuZGxlcikge1xyXG4gICAgdGhpcy5fYXBpSGFuZGxlciA9IGFwaUhhbmRsZXI7XHJcbiAgICB0aGlzLmdldFVzZXJJbmZvKCk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLl9hcGlIYW5kbGVyXHJcbiAgICAgIC5nZXRVc2VySW5mbygpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWJvdXQtbWVcIikudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICBcIi5wcm9maWxlX19waWNcIlxyXG4gICAgICAgICkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGEuYXZhdGFyfSlgO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yKSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbygpIHtcclxuICAgIHRoaXMuZ2V0VXNlckluZm8oKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlucHV0UHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX19pbnB1dF9uYW1lXCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0UHJvZmlsZUFib3V0TWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgXCIjcG9wdXBfX2lucHV0X2Fib3V0LW1lXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGlucHV0UHJvZmlsZVBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICBcIiNwb3B1cF9faW5wdXRfcHJvZmlsZS1waWNcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaW5wdXRQcm9maWxlTmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcclxuICAgICAgICBpbnB1dFByb2ZpbGVBYm91dE1lLnZhbHVlID0gZGF0YS5hYm91dDtcclxuICAgICAgICBpbnB1dFByb2ZpbGVQaWMudmFsdWUgPSBkYXRhLmF2YXRhcjtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jb25zdCBwb3B1cEVyYXNlQ2FyZFdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtZXJhc2UtY2FyZFwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoYXBpSGFuZGxlcikge1xyXG4gICAgc3VwZXIocG9wdXBFcmFzZUNhcmRXaW5kb3cpO1xyXG4gICAgdGhpcy5fcG9wdXBFcmFzZUNhcmRXaW5kb3cgPSBwb3B1cEVyYXNlQ2FyZFdpbmRvdztcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBzdXBlci5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2FwaUhhbmRsZXIgPSBhcGlIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKHRyYXNoQnRuKSB7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICAgIHRoaXMuX2NhcmQgPSB0cmFzaEJ0bi5jbG9zZXN0KFwiLmNhcmRzX19jYXJkLWNvbnRhaW5lclwiKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRXJhc2VDYXJkV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9wb3B1cEVyYXNlQ2FyZFdpbmRvdy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zYXZlLWJ0blwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgXCJHdWFyZGFuZG8uLi5cIjtcclxuICAgICAgdGhpcy5fZXJhc2VDYXJkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9lcmFzZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fYXBpSGFuZGxlclxyXG4gICAgICAuZGVsZXRlQ2FyZCh0aGlzLl9jYXJkKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wdXAoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEVyYXNlQ2FyZFdpbmRvdy5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgXCIucG9wdXBfX3NhdmUtYnRuXCJcclxuICAgICAgICApLnRleHRDb250ZW50ID0gXCJTw61cIjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtcGljXCIpKTtcclxuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWdPYmosIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9wb3B1cFdpbmRvdyA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnT2JqLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWdPYmouaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnT2JqLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZ09iai5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZ09iai5lcnJvckNsYXNzO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3JtU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX3BvcHVwV2luZG93LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIHRoaXMuX3BvcHVwV2luZG93XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LXVuZGVybGluZWApXHJcbiAgICAgIC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2lucHV0LXVuZGVybGluZV9lcnJvclwiKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgdGhpcy5fcG9wdXBXaW5kb3dcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tdW5kZXJsaW5lYClcclxuICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9faW5wdXQtdW5kZXJsaW5lX2Vycm9yXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlU2F2ZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU2F2ZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTYXZlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBuZXdGb3JtVmFsaWRhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ09iaiwgZm9ybUVsZW1lbnQpIHtcclxuICByZXR1cm4gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnT2JqLCBmb3JtRWxlbWVudCk7XHJcbn07XHJcbiIsImltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm1zIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBhcGlIYW5kbGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoQ29uZmlybWF0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgbmV3Rm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmltcG9ydCBcIi4uL3ZlbmRvci9ub3JtYWxpemUuY3NzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhhcGlIYW5kbGVyKTtcclxuY29uc3QgcG9wVXBFcmFzZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKGFwaUhhbmRsZXIpO1xyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgpO1xyXG5cclxuY29uc3QgY2FyZEhhbmRsZXIgPSBuZXcgQ2FyZChcclxuICB1c2VySW5mbyxcclxuICBhcGlIYW5kbGVyLFxyXG4gIHBvcFVwRXJhc2VDYXJkLFxyXG4gIHBvcHVwV2l0aEltYWdlXHJcbik7XHJcblxyXG5jb25zdCBjYXJkUmVuZGVyZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjYXJkSGFuZGxlci5nZXRUZW1wbGF0ZShkYXRhKTtcclxuICBjYXJkSGFuZGxlci5faGFuZGxlVHJhc2hCdXR0b24oXHJcbiAgICBkYXRhLm93bmVyLFxyXG4gICAgbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX190cmFzaC1idG5cIilcclxuICApO1xyXG4gIGNhcmRIYW5kbGVyLl9oYW5kbGVMaWtlVG9nZ2xlKFxyXG4gICAgZGF0YS5saWtlcyxcclxuICAgIG5ld0NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlrZS1idG5cIilcclxuICApO1xyXG4gIHJldHVybiBuZXdDYXJkO1xyXG59O1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHsgaXRlbXM6IFtdLCByZW5kZXJlcjogY2FyZFJlbmRlcmVyIH0sXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc1wiKVxyXG4pO1xyXG5cclxuYXBpSGFuZGxlci5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChjYXJkcykgPT4ge1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkcyk7XHJcbiAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwTmV3UGxhY2UgPSBuZXcgUG9wdXBXaXRoRm9ybXMoXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcGxhY2VcIiksXHJcbiAgdXNlckluZm8sXHJcbiAgYXBpSGFuZGxlcixcclxuICBuZXdGb3JtVmFsaWRhdG9yLFxyXG4gIHNlY3Rpb25cclxuKTtcclxuY29uc3QgcG9wdXBQcm9maWxlUGljID0gbmV3IFBvcHVwV2l0aEZvcm1zKFxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1waWNcIiksXHJcbiAgdXNlckluZm8sXHJcbiAgYXBpSGFuZGxlcixcclxuICBuZXdGb3JtVmFsaWRhdG9yXHJcbik7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtcyhcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZVwiKSxcclxuICB1c2VySW5mbyxcclxuICBhcGlIYW5kbGVyLFxyXG4gIG5ld0Zvcm1WYWxpZGF0b3JcclxuKTtcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGUub3BlblBvcHVwKCk7XHJcbn0pO1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cE5ld1BsYWNlLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19waWNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGVQaWMub3BlblBvcHVwKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiQ2FyZCIsInVzZXJJbmZvIiwiYXBpSGFuZGxlciIsInBvcHVwV2l0aENvbmZpcm1hdGlvbiIsInBvcHVwV2l0aEltYWdlIiwidGhpcyIsIl9oYW5kbGVMaWtlQnRuIiwiX2hhbmRsZUNhcmRDbGljayIsIl91c2VySW5mbyIsImdldFVzZXJJbmZvIiwiX2FwaUhhbmRsZXIiLCJfcG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX3BvcHVwV2l0aEltYWdlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRvZ2dsZSIsInRvZ2dsZUxpa2VCdG4iLCJ0aGVuIiwiZGF0YSIsImNsb3Nlc3QiLCJ0ZXh0Q29udGVudCIsImxpa2VzIiwibGVuZ3RoIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJwb3B1cFBpYyIsImltZyIsIm9wZW5Qb3B1cCIsInNyYyIsImFsdCIsIm5hbWUiLCJsaW5rIiwiX2lkIiwibmV3Q2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJpZCIsImxpa2VCdG4iLCJmb3JFYWNoIiwibGlrZSIsImFkZCIsIm93bmVyIiwidHJhc2hCdG4iLCJzdHlsZSIsImRpc3BsYXkiLCJQb3B1cCIsInBvcHVwV2luZG93IiwiX3BvcHVwV2luZG93IiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlIiwiZXNjYXBlQ2xvc2VQb3B1cCIsImtleSIsIl9jbG9zZVBvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm1zIiwibmV3Rm9ybVZhbGlkYXRvciIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9mb3JtVmFsaWRhdG9yIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yQ2xhc3MiLCJfcG9wdXBQcm9maWxlIiwiX3BvcHVwTmV3UGxhY2UiLCJfcG9wdXBQcm9maWxlUGljIiwiX25ld0NhcmQiLCJyZXNldFZhbGlkYXRpb24iLCJzZXRVc2VySW5mbyIsIl9wb3B1cElucHV0TmFtZSIsInZhbHVlIiwiX3BvcHVwSW5wdXRBYm91dE1lIiwiYWJvdXQiLCJfcG9wdXBJbnB1dE5ld1BsYWNlUGljIiwiX3BvcHVwSW5wdXRuZXdQbGFjZVRpdGxlIiwiX3BvcHVwSW5wdXRQcm9maWxlUGljIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJzZXROZXdQbGFjZSIsImRhdGFBcnJheSIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsImVyciIsImxvZyIsImZpbmFsbHkiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dE1lIiwiY2hhbmdlVXNlckluZm8iLCJwcm9maWxlUGljIiwic2V0UHJvZmlsZVBpYyIsImJhY2tncm91bmRJbWFnZSIsImF2YXRhciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJBcGkiLCJvcHRpb25zIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJfYmFzZVVybCIsIl9vcHRpb25zIiwiZmV0Y2giLCJfc3BlY2lmaWNVcmwiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwibWV0aG9kIiwiYm9keSIsIl9mZXRjaERhdGEiLCJjYXJkIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9ib2R5IiwidXNlckRhdGEiLCJnZXRJbml0aWFsQ2FyZHNBcGkiLCJjYXJkRGF0YSIsIm5ld0NhcmRzIiwiU2VjdGlvbiIsImNvbnRhaW5lciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsIm5ld0l0ZW0iLCJwcmVwZW5kIiwiVXNlckluZm8iLCJpbnB1dFByb2ZpbGVOYW1lIiwiaW5wdXRQcm9maWxlQWJvdXRNZSIsImlucHV0UHJvZmlsZVBpYyIsInBvcHVwRXJhc2VDYXJkV2luZG93IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX3BvcHVwRXJhc2VDYXJkV2luZG93IiwiX2NhcmQiLCJfZXJhc2VDYXJkIiwiZGVsZXRlQ2FyZCIsIlBvcHVwV2l0aEltYWdlIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZ09iaiIsImZvcm1FbGVtZW50IiwiX2Zvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfYnV0dG9uRWxlbWVudCIsImVuYWJsZVZhbGlkYXRpb24iLCJlcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlU2F2ZUJ1dHRvblN0YXRlIiwiZXZ0IiwiY2FyZEhhbmRsZXIiLCJzZWN0aW9uIiwiZ2V0VGVtcGxhdGUiLCJfaGFuZGxlVHJhc2hCdXR0b24iLCJfaGFuZGxlTGlrZVRvZ2dsZSIsImdldEluaXRpYWxDYXJkcyIsImNhcmRzIiwicG9wdXBOZXdQbGFjZSIsInBvcHVwUHJvZmlsZVBpYyIsInBvcHVwUHJvZmlsZSJdLCJzb3VyY2VSb290IjoiIn0=